<LoginScreen>:
    name: 'login'
    MDLabel:
        text: 'Enter your username'
        halign: 'center'
        pos_hint: {'center_y': 0.7}
    MDTextField:
        id: username_input
        hint_text: 'Username'
        size_hint_x: None
        width: 300
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    MDFloatingActionButton:
        icon: 'arrow-right'
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        on_press: app.login(username_input.text)

<ChatScreen>:
    name: 'chat'
    messages_box: messages_box
    message_input: message_input

    MDTopAppBar:
        title: 'Chat App'
        md_bg_color: app.theme_cls.primary_color
        elevation: 10
        pos_hint: {'top': 1}
        left_action_items: [['menu', lambda x: x]]

    ScrollView:
        GridLayout:
            id: messages_box
            cols: 1
            size_hint_y: None
            height: self.minimum_height

    MDGridLayout:
        cols: 2
        spacing: '10dp'
        padding: '10dp'
        size_hint_y: None
        height: '60dp'
        pos_hint: {'bottom': 1}

        MDTextField:
            id: message_input
            hint_text: 'Type your message'
            size_hint_x: None
            width: 300

        MDFloatingActionButton:
            icon: 'send'
            on_press: root.send_message()
